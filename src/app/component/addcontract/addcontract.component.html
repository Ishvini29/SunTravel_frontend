<app-menubar></app-menubar>
<div class="container mt-4">
  <img src="assets/back.png"class="backimg" routerLink="/contract">
  <div class="card">
    <div class="card-header bg-secondary text-white">
      <h3>Add Contract</h3>
    </div>

    <div class="card-body">
      <form [formGroup]="postContractForm" (ngSubmit)="postContract()">
        <div class="form-group">
          <img src="../../../assets/nav15.png" [width]="460" [height]="230" style="border-radius: 10px;">
          <br>
          <b><label for="hotelName">Hotel Name</label></b>
          <select class="form-control" id="hotelName" formControlName="hotelId">
            <option *ngFor="let hotel of hotels" [value]="hotel.hotelId">{{ hotel.hotelName }}-{{ hotel.location }}</option>
          </select>
        </div>

        <div class="form-group">
          <b><label for="startDate">Startdate</label></b>
          <input type="date" class="form-control" id="startDate" formControlName="startDate">
        </div>

        <div class="form-group">
          <b><label for="endDate">End date</label></b>
          <input type="date" class="form-control" id="endDate" formControlName="endDate">
        </div>

        <div class="form-group">
          <b><label for="markupRate">Markup Rate</label></b>
          <input type="number" class="form-control" id="markupRate" formControlName="markupRate">
        </div>

        <button type="button" class="btn btn-primary" (click)="toggleAdditionalFields()">Add</button>

        <!-- Additional form fields -->
        <div formArrayName="contractWithRoomType">
          <div *ngFor="let fieldSet of fieldSets; let i = index" [formGroupName]="i">
            <hr>
            <div class="form-group">
              <label for="roomType"><b>Room type</b></label>
              <select class="form-control" id="roomType" name="roomType" formControlName="roomType">
                <option *ngFor="let roomType of roomTypes" [value]="roomType.roomId">{{ roomType.roomType }}</option>
              </select>
            </div>

            <div class="form-group">
              <label for="noOfRooms"><b>No of Rooms</b></label>
              <input type="number" class="form-control" id="noOfRooms" formControlName="noOfRooms">
            </div>

            <div class="form-group">
              <label for="noOfAdults"><b>No of Adults</b></label>
              <input type="number" class="form-control" id="noOfAdults" formControlName="noOfAdults">
            </div>

            <div class="form-group">
              <label for="price"><b>Price</b></label>
              <input type="number" class="form-control" id="price" formControlName="price">
            </div>
          </div>
        </div>

        <div class="mt-3" *ngIf="toggleClicked">
          <button type="submit" class="btn btn-primary">Save Contract</button>
        </div>
      </form>
    </div>
  </div>
</div>
